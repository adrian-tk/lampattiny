{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to LampATTiny","text":"<p>small project for control LED lamp. Heart of project is 8 bit ATtiny controller</p> <p>This documentation is divided in four parts - Tutorials, How-to guides, References and Explanations. Lest talk a little about them, more information is available at di\u00e1taxes.</p> <ul> <li> <p>Tutorials - learning oriented</p> </li> <li> <p>How-to guides - goal oriented.</p> </li> <li> <p>References - information oriented.</p> </li> <li> <p>Explanations - understanding oriented.</p> </li> </ul> <p>If in doubt start from Tutorials from left panel.</p>"},{"location":"explanations/","title":"LampATTiny Explanations","text":"<p>Explanation is a discursive treatment of a subject, that permits reflection. Explanation is understanding-oriented.</p>"},{"location":"explanations/#electric-project","title":"Electric project","text":"<p>source of current for all project part is 21700 cell this size is popular and has a relatively big capacity (compared to 18650 cells). For simplcity we use only one cell. Using more of them get more capacity but creates some problems:</p> <ul> <li>when connect in series: more complicated BMS and charger, higher voltage is not a problem, beacuse we regulate voltage later</li> <li>when connect in paralell: big carefull must be used to ensure balance cell before connection, best will be to spot weld cells with this same actual voltage</li> </ul> <p>Cell is powered by TP4056 module. It check discharge current (up to 3A), and discharge voltage (above 2,5), so it doubles BMS, but for security BMS shall be used (now is not).  When charging current is limited to 1A, and voltage is 4,2V Some sources give information about problem with charge and discharge at the same time - Cell is not cut off in this situation and its cycles are used. Additionaly current limitation might not work and discharge limit (3A) might be used for charge cell. For this reason there is a plan to replace this module.</p>"},{"location":"history/","title":"LampATTiny","text":""},{"location":"history/#version-10","title":"Version 1.0","text":"<p>2024-11-25</p> <p></p>"},{"location":"history/#what-works","title":"What works:","text":"<ul> <li>Lamp is glowing</li> <li>microcontroller can dimm LED</li> <li>uart PC - microcontroller works</li> </ul> <p>We can set a brigtness from 0 to 100 using uart.</p>"},{"location":"history/#what-will-work-in-future","title":"What will work in future","text":"<ul> <li>securing cell with BMS</li> <li>possibility of charge and discharge cell at the same time</li> <li>more linear brightness scale</li> <li>wifi (maybe RPI)</li> <li>zigbee (maybe espersiff)</li> </ul>"},{"location":"howtoguides/","title":"LampATTiny How-to guides","text":"<p>How-to guides are directions that guide the reader through a problem or towards a result. How-to guides are goal-oriented.  </p>"},{"location":"mkdocs/","title":"Welcome to LampATtiny","text":""},{"location":"mkdocs/#this-documentation-was-build-with-mkdocs","title":"This documentation was build with mkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"mkdocs/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"mkdocs/#working-local-with-mkdocs","title":"Working local with mkdocs","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"mkdocs/#deploy-do-github","title":"Deploy do GitHub","text":"<p>TODO</p> <p>If you change the default directory (root) of mkDocs, for example You have mkDocs/docs, and mkDocs/mkdocs.yml github action shall be modified:</p> <pre><code>name: ci \non:\n  push:\n    branches:\n      - master \n      - main\npermissions:\n  contents: write\nenv:\n  CONFIG_FILE: mkDocs/\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - name: Configure Git Credentials\n        run: |\n          git config user.name github-actions[bot]\n          git config user.email 41898282+github-actions[bot]@users.noreply.github.com\n      - uses: actions/setup-python@v5\n        with:\n          python-version: 3.x\n      - run: echo \"cache_id=$(date --utc '+%V')\" &gt;&gt; $GITHUB_ENV \n      - uses: actions/cache@v4\n        with:\n          key: mkdocs-material-${{ env.cache_id }}\n          path: .cache\n          restore-keys: |\n            mkdocs-material-\n      - run: pip install mkdocs-material \n      - run: mkdocs gh-deploy --config-file mkDocs/mkdocs.yml --force\n</code></pre>"},{"location":"references/","title":"LampATTiny References","text":"<p>Reference guides are technical descriptions of the machinery and how to operate it. Reference material is information-oriented.</p> <p>This Reference describe hardware used to power the lamp and other additional parts like microcontrollers.</p>"},{"location":"references/#electric","title":"Electric","text":""},{"location":"references/#general","title":"General","text":"<pre><code>graph TD\n    cell -- discharge --&gt; charger;\n    charger -- charge --&gt; cell;\n    usb -- power --&gt; charger;\n    charger -- 2,5-4,2 V --&gt; converter;\n    converter --7v--&gt; mosfet;\n    converter --7v--&gt; regulator;\n    regulator -- 5V --&gt; microcontroller;\n    microcontroller -- 5V --&gt; driver;\n    driver -- 7V --&gt; mosfet;\n    converter -- 7V --&gt; driver;\n    mosfet -- 7V --&gt; LED;</code></pre>"},{"location":"references/#power-supply","title":"Power supply","text":"<p>hardware used to power the lamp and other additional parts like microcontrollers.</p> Cell BMS Charger Voltage converter"},{"location":"references/#cell","title":"Cell","text":"<p>Samsung INR21700-50E - standard Li-Ion cell 21700</p> <ul> <li>Standard discharge capacity: 4900mAh (0.2C discharge)</li> <li>Rated discharge capacity: 4753mAh (1C discharge)</li> <li>Charge voltage: 4.2V</li> <li>Nominal voltage: 3.6V</li> <li>Charging method: CC-CV</li> <li>Maximum charge current: 4900mA</li> <li>Maximum continuous discharge current: 9800mA</li> <li>Maximum pulse discharge current: 14700mA</li> <li>Discharge cut-off voltage: 2.5V</li> <li>Cycle life: 500 cycles to 3802mAh (80%)</li> <li>Operating temperature: Charge: 0\u00b0C ~ 45\u00b0C, discharge: -20\u00b0C ~ 60\u00b0C</li> <li>Storage temperature: 1 month: -20\u00b0C ~ 60\u00b0C, 3 months: -20\u00b0C ~ 45\u00b0C, 1 year: -20\u00b0C ~ 23\u00b0C</li> </ul>"},{"location":"references/#bms","title":"BMS","text":"<p>Some cheap China BMS PCM battery protection board</p> <ul> <li>brand: STJF</li> <li>MOS transistor can control the battery charge and discharge</li> <li>Over charge voltage: 4.25 +/- 0.05V</li> <li>Over charge release oltage 4.23 +/- 0.05V</li> <li>Over discharge voltage 2.54 +/- 0.1V</li> <li>Maximal continuous charging current: 2A</li> <li>Maximal coninous dischagrging current: 2A</li> <li>Overcurrent protection 3A</li> <li>Size: L4xW4xT3mm</li> <li>Weight: 10g</li> </ul>"},{"location":"references/#charger","title":"Charger","text":"<p>Some China Battery Charge Management Controller based on MCP73871 chip</p> <ul> <li>3.7V/4.2V Lithium Ion or Lithium Polymer battery chargernt</li> <li>Charge with 5-6V DC, USB or 6V solar panel!</li> <li>Too dark out?Use a USB mini-B cable or a 5V DC adapter</li> <li>Automatic charging current tracking for high efficiency use of any wattage solar panel</li> <li>Use any 6V solar panel</li> <li>Three color indicator LEDs- Power good, Charging and Donent</li> <li>Low Battery Indicator(fixed at 3.1V) with LED output</li> <li>Set for 500mA max charge rate, can be adjusted from 50mA up to 1A by soldering in a resistor</li> <li>Will always draw the most current possible from a solar cell- up to the max charge rate!</li> <li>Smart load sharing automatically uses the input power when available, to keep battery from constantly charging/discharging</li> <li>Temperature monitoringof battery by soldering in a 10K NTC thermistor (not included) - suggested for outdoor projects where the battery may get hot (50u00b0C) or cold (0u00b0C).</li> </ul>"},{"location":"references/#voltage-converter","title":"Voltage converter","text":"<p>Module MT3608 is used to boost voltage</p> <p>documentation from addicore</p> <p>This module features the MT3608 2 Amp step up (boost) converter, which can take input voltages as low as 2V and step up the output to as high as 28V. The MT3608 features automatic shifting to pulse frequency modulation mode at light loads. It includes under-voltage lockout, current limiting, and thermal overload protection.</p> <p>This module has a multi-turn trimpot (potentiometer) that you can use to adjust the output voltage. Since the trimpot has 25 turns of adjustment you can easily adjust the output of the module to exactly the voltage you need.</p> <p>Boost converters are a great way to easily increase a given voltage, but that boost comes at the cost of less output current compared to input current.</p> <p>Since this is a boost converter the output voltage has to be higher than the supplied input voltage. </p> <ul> <li>Input Voltage: 2 to 24 V</li> <li>Max Output Voltage: 28 V</li> <li>Max Output Current: 2 A</li> <li>Adjustment: 25-Turn Trimpot</li> <li>Efficiency: up to 93%</li> <li>Switching Frequency: 1.2 MHz</li> </ul> <p></p>"},{"location":"references/#microcontroller","title":"Microcontroller","text":"<p>test</p>"},{"location":"references/#power-regulator","title":"Power regulator","text":""},{"location":"references/#mechanic","title":"Mechanic","text":""},{"location":"tutorials/","title":"LampATTiny tutorials","text":"<p>A tutorial is an experience that takes place under the guidance of a tutor. A tutorial is always learning-oriented.</p>"},{"location":"tutorials/#regulate-light-with-uart","title":"Regulate light with UART","text":""},{"location":"tutorials/#build-software-for-attiny412","title":"Build software for ATTiny412","text":""},{"location":"tutorials/#program-microcontroller","title":"Program microcontroller","text":""}]}